<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>复选框的全选和取消全选</title>
	</head>
	<body>
		<script type="text/javascript">
			window.onload=function(){
				//根据name获取所有元素
				var aihaoSet = document.getElementsByName("aihao");
				var all=document.getElementById("all");
				all.onclick=function(){
					
					
					// //获取第一个框的选中状态，第一个打勾，其余全部打勾，第一个不打勾，其他都不打勾
					// if(all.checked){
					// 	//全选
					// 	for(var i=0;i<aihaoSet.length;i++){
					// 		aihaoSet[i].checked=true;
					// 	}
					// }else{
					// 	//取消全选
					// 	for(var i=0;i<aihaoSet.length;i++){
					// 		aihaoSet[i].checked=false;
					// 	}
					// }
					//省略写法
					for(var i=0;i<aihaoSet.length;i++){
						aihaoSet[i].checked=all.checked;
					}
				}
				//对所有复选框进行遍历
				var size=aihaoSet.length;
				
				for(var i=0;i<aihaoSet.length;i++){
					aihaoSet[i].onclick=function(){
						var boxCount=0;
						//总数量和选中数量相等时，第一个框选中
						for(var j=0;j<aihaoSet.length;j++){
							if(aihaoSet[j].checked){
								boxCount++;
							}
						}
						if(size==boxCount){
							all.checked=true;
						}else{
							all.checked=false;
						}
					}
				}
				
			}
		</script>
		<input type="checkbox" id="all" />全选 <br />
		<input type="checkbox" name="aihao" value="smoke" />抽烟<br />
		<input type="checkbox" name="aihao" value="drink" />喝酒<br />
		<input type="checkbox" name="aihao" value="hair" />烫头<br />
	</body>
</html>
